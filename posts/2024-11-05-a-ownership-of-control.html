<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta property="og:type" content="website">
        <meta property="og:title" content="주형 Blog - 제어권을 유지하기">
        <meta property="og:image" content="https://blog.majecty.com/favicon_310.png">

        <link rel="icon" type="image/png" href="../favicon_16.png" sizes="16x16">
        <link rel="icon" type="image/png" href="../favicon_32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="../favicon_96.png" sizes="96x96">
        <link rel="icon" type="image/png" href="../favicon_310.png" sizes="310x310">

        <title>주형 Blog - 제어권을 유지하기</title>
        <link rel="stylesheet" type="text/css" href="../css/default.css" />
        <link rel="stylesheet" type="text/css" href="../css/syntax.css" />
        <link rel="home" type="application/rss+xml" href="https://blog.majecty.com/atom.xml" />

        <link href="//cdn.muicss.com/mui-0.9.41/css/mui.min.css" rel="stylesheet" type="text/css" />
        <script src="//cdn.muicss.com/mui-0.9.41/js/mui.min.js"></script>

        <link href="https://fonts.googleapis.com/css?family=Nanum+Gothic+Coding" rel="stylesheet"> 
        <link href="https://fonts.googleapis.com/css?family=Nanum+Gothic" rel="stylesheet">
        <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-78778924-1', 'auto');
ga('send', 'pageview');

        </script>

    </head>
    <body class="mui-container">
        <div style="margin:5px;">
            <div id="header">
                <div id="logo">
                    
                    <a href="../">주형 블로그</a>
                    
                </div>
                <div id="navigation">
                    
                    <a href="../">Home</a>
                    
                    <a href="../contact.html">Contact</a>
                    <a href="../wikis.html">Wiki</a>
                </div>
            </div>

            <div id="content">
                
                <h1>제어권을 유지하기</h1>
                

                <div class="info">
    2024년 11월  5일에 씀
</div>

<div class="info">
    
    찾아보기: <a title="All pages tagged 'code'." href="../tags/code.html" rel="tag">code</a>, <a title="All pages tagged 'maintenance'." href="../tags/maintenance.html" rel="tag">maintenance</a>
    
</div>

<br />

<p>비슷한 걸 어떻게 구현을 잘 하는 게 좋을까요. 어려운 문제가 상황에 따라 답은 다를 거에요. 여기서는 코드의 중복을 관리하기 위한 하나의 관점에 대해 이야기하려고 합니다. 코드의 제어권에 대한 이야기에요.</p>
<p>저는 백엔드 엔지니어이기 때문에 백엔드 웹 서버 기준으로 설명할게요. 하나의 API는 각각의 진입점이 있습니다. 두 API가 비슷한 일을 한다고 했을 때 이를 어떻게 구현하면 좋을까요? 두가지 방법을 소개하고 비교할게요. 하나는 제어권을 넘기는 방법이고 다른 하나는 제어권을 API들이 각각 유지하는 방법입니다.</p>
<p>아래는 제어권을 넘기는 방법입니다. 서로 조금 다른 두가지 일을 다 잘 처리하는 <code>doCommonThing</code> 이라는 함수를 정의해요. <code>doA</code> 와 <code>doB</code> 는 이 함수를 호출하기만 하면 됩니다. 코드가 하는 일의 제어권을 <code>doCommonThing</code> 에 넘기는 방법이에요.</p>
<pre><code>function doA() {
  doCommonThing(true);
}

function doB() {
  doCommonThing(false);
}

function doCommonThing(boolean someDifferent) {
  doX();
  if (someDifferent) {
    doY();
  }
  doZ();
}</code></pre>
<p>아래는 제어권을 유지하는 방법입니다. <code>doA</code> 와 <code>doB</code> 가 하는 일이 유사합니다. 하지만 각 함수에서 무엇을 해야하는지는 진입 포인트에서 각각 작업했어요. <code>doA</code> 와 <code>doB</code> 가 코드의 제어권을 유지하고 있습니다.</p>
<pre><code>function doA() {
  doX();
  doY();
  doZ();
}

function doB() {
  doX();
  doZ();
}</code></pre>
<p>저는 여기에서 두번째 방법인 제어권을 유지하는 방법을 선호합니다. 왜냐하면 <code>doA</code> 를 수정할 때 <code>doB</code> 의 기능이 깨지지 않기 때문입니다.</p>
<p>세월의 흔적이 쌓인 소프트웨어를 관리하기는 어렵습니다. 오래된 소프트웨어일수록 개발자가 모르는 영역이 많이 쌓여있어요. 개발자는 동작을 다 이해하지 못한 상태로도 기능을 추가하거나 수정을 하게 됩니다. 이 때 각 진입점에서 제어권을 유지하고 있으면 원하는 것만 수정하기 쉬워집니다. 코드의 수정이 의도치 않은 결과를 덜 내도록 관리할 수 있어요. 코드를 수정한 뒤 무엇을 테스트해야하는지도 명확해지구요. 제품을 망가뜨릴지도 모른다는 불안감에서 벗어나 자신감 있게 코드를 작성할 수 있습니다.</p>

<script src="https://utteranc.es/client.js" repo="majecty/blog-comments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async>
</script>

            </div>
            <div id="footer">
                Site proudly generated by
                <a href="http://jaspervdj.be/hakyll">Hakyll</a>
            </div>
        </div>
        <script type="text/javascript" src="https://wcs.naver.net/wcslog.js"></script>
        <script type="text/javascript">
        if(!wcs_add) var wcs_add = {};
        wcs_add["wa"] = "1204a977388eb38";
        wcs_do();
        </script>
    </body>
</html>
